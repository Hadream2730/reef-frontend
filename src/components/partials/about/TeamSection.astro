---
import fetchApi from "../../../lib/strapi";

interface Props {
  fields: {
    title: string;
  };
}

const urlParamsObject = {
  populate: {
    media: {
      populate: "*",
    },
  },
};

const memberData: any = await fetchApi<any[]>({
  endpoint: "members", // the content type to fetch
  query: urlParamsObject, // the key to unwrap the response
});

const {
  fields: { title },
} = Astro.props;
---

<section id="Board-of-Trustees" class="section section22">
  <div class={`container-default w-container ${locale == "en" ? "direction-ltr" : ""}`}>
    <div
      id="w-node-b83a028e-5063-8402-5885-08b9d1c28b71-d1c28b6f"
      data-w-id="b83a028e-5063-8402-5885-08b9d1c28b71"
      class="mg-bottom-32px"
      style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
    >
      <div
        id="w-node-b83a028e-5063-8402-5885-08b9d1c28b72-d1c28b6f"
        class="inner-container _424px center"
      >
        <div
          id="w-node-b83a028e-5063-8402-5885-08b9d1c28b73-d1c28b6f"
          class="text-center"
        >
          <h2 class="display-2 mg-bottom-0">{title}</h2>
        </div>
      </div>

      <div class="w-layout-grid grid-3-columns-3 _1-col-tablet">
        {
          memberData?.map((item: any, index: number) => (
            <div
              id="w-node-b83a028e-5063-8402-5885-08b9d1c28b78-d1c28b6f"
              data-w-id="b83a028e-5063-8402-5885-08b9d1c28b78"
              class="card5 whats-included"
              style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
            >
              <>
                <img
                  src={`${item?.attributes?.media?.image?.data?.attributes?.url}`}
                  alt={item?.attributes?.media?.alt}
                  class="card-sales-home-image-2"
                  data-xblocker="passed"
                  style="visibility: visible;"
                />
                <div class="card-sales-home-content-2">
                  <>
                    <p class="paragraph-3">{item?.attributes?.desc}</p>
                    <p class="paragraph-3 bortnmes">{item?.attributes?.name}</p>
                    <p class="paragraph-3 p3">{item?.attributes?.role}</p>
                  </>
                </div>
              </>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
